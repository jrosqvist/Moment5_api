"use strict";const URL="http://studenter.miun.se/~joro1803/dt173g/moment5_rest/courselist.php/courses/";function addCourse(){let e=document.getElementById("coursecode").value,t=document.getElementById("coursename").value,o=document.getElementById("courseprogression").value,n=document.getElementById("coursesyllabus").value,s=JSON.stringify({code:e,name:t,progression:o,syllabus:n});fetch(URL,{method:"POST",headers:{"Content-Type":"application/json"},body:s}).then(e=>e.json()).then(e=>getCourses()).catch(e=>console.log(e))}function getCourses(){fetch(URL).then(e=>e.json()).then(e=>{let t="<h3>Lästa kurser</h3><table><tr><th>Kurskod</th><th>Kursnamn</th> <th>Progression</th><th>Kursplan</th><th></th></tr>";e.forEach(function(e){t+="<tr><td>"+e.Code+"</td><td>"+e.Name+"</td><td>"+e.Progression+"</td><td><a href='"+e.Syllabus+"' target ='_blank'>Webblänk</a></td><td><button onclick ='deleteCourse(this.id)' class = 'deleteButton' id ="+e.ID+">Radera</button></td></tr>"}),t+="</table>",document.getElementById("output").innerHTML=t}).catch(e=>console.log(e))}function deleteCourse(e){fetch(URL+"/"+e,{method:"DELETE"}).then(e=>getCourses()).catch(e=>console.log(e))}window.onload=getCourses,document.getElementById("addButton").addEventListener("click",addCourse);